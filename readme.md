# PageSpeed Insights Scraper

–≠—Ç–æ—Ç —Å–∫—Ä–∏–ø—Ç –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –≤–µ–±-—Å—Ç—Ä–∞–Ω–∏—Ü —Å –ø–æ–º–æ—â—å—é **Google PageSpeed Insights API** –∏ —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ **CSV-—Ñ–∞–π–ª**.  

## üìå –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
- –ê–Ω–∞–ª–∏–∑ –º–æ–±–∏–ª—å–Ω–æ–π (`mobile`) –∏–ª–∏ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π (`desktop`) –≤–µ—Ä—Å–∏–∏ —Å–∞–π—Ç–∞
- –°–±–æ—Ä –º–µ—Ç—Ä–∏–∫:
  - **Total Score** (–æ–±—â–∞—è –æ—Ü–µ–Ω–∫–∞)
  - **Total Page Size (KB)** (—Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã)
  - **FCP** (First Contentful Paint)
  - **LCP** (Largest Contentful Paint)
  - **CLS** (Cumulative Layout Shift)
  - **TBT** (Total Blocking Time)
  - **Speed Index**
- –ü–µ—Ä–µ–¥–∞—á–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —á–µ—Ä–µ–∑ –∫–æ–º–∞–Ω–¥–Ω—É—é —Å—Ç—Ä–æ–∫—É:
  - `--strategy` ‚Äî —Å—Ç—Ä–∞—Ç–µ–≥–∏—è (`mobile` –∏–ª–∏ `desktop`)
  - `--out` ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É CSV –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
  - `--source` ‚Äî –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É —Å URL-–∞–¥—Ä–µ—Å–∞–º–∏  

---

## üöÄ –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–°–∫–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ –∫–æ–¥**:
   ```sh
   git clone https://github.com/d-nekrasov/pagespeed-insights-scraper.git
   cd pagespeed-insights-scraper
   ```

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**:
   ```sh
   npm install
   ```

3.	**–ü–æ–ª—É—á–∏—Ç–µ API-–∫–ª—é—á Google PageSpeed Insights**:
	- –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ Google Cloud Console
	-	–°–æ–∑–¥–∞–π—Ç–µ –Ω–æ–≤—ã–π –ø—Ä–æ–µ–∫—Ç
	-	–í–∫–ª—é—á–∏—Ç–µ API PageSpeed Insights
	-	–ü–æ–ª—É—á–∏—Ç–µ API-–∫–ª—é—á
	-	–£–∫–∞–∂–∏—Ç–µ –µ–≥–æ –≤ —Ñ–∞–π–ª–µ script.js:

    ```sh
    const API_KEY = 'YOUR_API_KEY'; // –£–∫–∞–∂–∏—Ç–µ –≤–∞—à API-–∫–ª—é—á
    ```

## üìÑ –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ


#### 1. –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª —Å–æ —Å–ø–∏—Å–∫–æ–º URL

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `urls.txt` –∏ –¥–æ–±–∞–≤—å—Ç–µ —Å—Å—ã–ª–∫–∏ (–∫–∞–∂–¥–∞—è —Å –Ω–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏):
```
https://example.com
https://another-site.com
```

#### 2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –∞–Ω–∞–ª–∏–∑:

üì± –ê–Ω–∞–ª–∏–∑ –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏:

```sh
node script.js --strategy mobile --out results_mobile.csv --source urls.txt
```
üñ• –ê–Ω–∞–ª–∏–∑ –¥–µ—Å–∫—Ç–æ–ø–Ω–æ–π –≤–µ—Ä—Å–∏–∏:
```sh
node script.js --strategy desktop --out results_desktop.csv --source urls.txt
```

#### 3. –ü–æ–ª—É—á–∏—Ç–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ CSV

–ü–æ—Å–ª–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Å–∫—Ä–∏–ø—Ç–∞ –ø–æ—è–≤–∏—Ç—Å—è —Ñ–∞–π–ª results_mobile.csv –∏–ª–∏ results_desktop.csv, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
| URL                 | Strategy | Total Score | Page Size (KB) | FCP (s) | LCP (s) | CLS  | TBT (ms) | Speed Index (s) |
|---------------------|---------|------------|----------------|---------|---------|------|----------|----------------|
| https://example.com | mobile  | 85         | 1200           | 1.2     | 2.5     | 0.01 | 150      | 3.5            |
| https://example.com | desktop | 90         | 1100           | 0.9     | 2.0     | 0.02 | 120      | 2.8            |


## üîß –í–æ–∑–º–æ–∂–Ω—ã–µ –æ—à–∏–±–∫–∏

- **‚ÄúError: API_KEY is invalid‚Äù** ‚Äì –ø—Ä–æ–≤–µ—Ä—å—Ç–µ, –≤–µ—Ä–Ω–æ –ª–∏ —É–∫–∞–∑–∞–Ω API-–∫–ª—é—á.
- **‚ÄúRate limit exceeded‚Äù** ‚Äì Google API –∏–º–µ–µ—Ç –ª–∏–º–∏—Ç—ã. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ –ø–ª–∞—Ç–Ω—ã–π —Ç–∞—Ä–∏—Ñ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å –ø–∞—É–∑–∞–º–∏.
- **‚ÄúN/A –≤ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞—Ö‚Äù** ‚Äì —Å–∞–π—Ç –º–æ–∂–µ—Ç –±—ã—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –∏–ª–∏ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.